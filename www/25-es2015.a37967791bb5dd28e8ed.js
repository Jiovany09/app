(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{TUkU:function(e,o,n){"use strict";n.r(o),n.d(o,"Tab2PageModule",(function(){return K}));var t=n("TEn/"),r=n("ofXK"),i=n("3Pt+"),c=n("qtYk"),b=n("tyNb");class s{constructor(e,o){this.id=e,this.estado=o}}var a=n("fXoL"),d=n("qfBg"),l=n("nT6r");let u=(()=>{class e{transform(e,o){return""===o?e:(o=o.toLowerCase(),e.filter(e=>e.contenedor.toLowerCase().includes(o)))}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=a.Gb({name:"filtroContenedor",type:e,pure:!0}),e})();const g=function(e){return["/detalle-contenedor",e]};function f(e,o){if(1&e){const e=a.Lb();a.Kb(0,"ion-row"),a.Kb(1,"ion-col"),a.Kb(2,"ion-text",8),a.kc(3),a.Jb(),a.Jb(),a.Kb(4,"ion-col"),a.Ib(5,"ion-progress-bar",9),a.Jb(),a.Kb(6,"ion-col"),a.Kb(7,"ion-text"),a.kc(8),a.Jb(),a.Jb(),a.Kb(9,"ion-col"),a.Kb(10,"ion-toggle",10),a.Sb("ionChange",(function(o){return a.fc(e),a.Ub().onChange(o)})),a.Jb(),a.Jb(),a.Jb()}if(2&e){const e=o.$implicit,n=a.Ub();a.xb(2),a.Zb("routerLink",a.cc(8,g,e.id)),a.xb(1),a.lc(e.contenedor),a.xb(2),a.ic("--progress-background",n.getColor(e.energia_contenida)),a.ac("value",e.energia_contenida/100),a.xb(3),a.lc(e.numlamparas),a.xb(2),a.ac("id",e.id),a.Zb("checked",e.estado)}}let h=(()=>{class e{constructor(e,o,n){this._userService=e,this._contenedorService=o,this.alertController=n,this.textoBuscar="",this.token=this._userService.getToken(),this.identity=this._userService.getIdentity()}ngOnInit(){this.getContenedores()}buscar(e){this.textoBuscar=e.detail.value}doRefresh(e){setTimeout(()=>{this.getContenedores(),e.target.complete()},1e3)}getColor(e){return e<30?"red":e<=60?"yellow":e>60?"green":void 0}getContenedores(){this._contenedorService.getContenedores().subscribe(e=>{this.contenedores=e},e=>{console.log(e)})}onChange(e){this.conte=new s(e.target.id,e.target.checked),this._contenedorService.updateEstadoConte(e.target.id,this.conte).subscribe(e=>{},e=>{console.log(e)})}}return e.\u0275fac=function(o){return new(o||e)(a.Hb(d.a),a.Hb(l.a),a.Hb(t.a))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-tab2"]],decls:25,vars:4,consts:[["color","secondary"],["slot","fixed",3,"ionRefresh"],[2,"text-align","center","color","black"],[2,"text-align","center"],["placeholder","Nombre de contenedor","animated","",3,"ionChange"],[1,"line"],[1,"title1"],[4,"ngFor","ngForOf"],[3,"routerLink"],["buffer","0.1",3,"value"],["name","blueberry",1,"form-control",3,"id","checked","ionChange"]],template:function(e,o){1&e&&(a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar",0),a.Kb(2,"ion-title"),a.kc(3," Contenedores "),a.Jb(),a.Jb(),a.Jb(),a.Kb(4,"ion-content"),a.Kb(5,"ion-refresher",1),a.Sb("ionRefresh",(function(e){return o.doRefresh(e)})),a.Ib(6,"ion-refresher-content"),a.Jb(),a.Kb(7,"ion-card"),a.Kb(8,"ion-title",2),a.kc(9,"Listado de contenedores"),a.Jb(),a.Jb(),a.Kb(10,"ion-grid"),a.Kb(11,"ion-card",3),a.Kb(12,"ion-searchbar",4),a.Sb("ionChange",(function(e){return o.buscar(e)})),a.Jb(),a.Kb(13,"ion-row",5),a.Kb(14,"ion-col",6),a.kc(15,"Contenedor"),a.Jb(),a.Kb(16,"ion-col",6),a.kc(17,"Energ\xeda contenida"),a.Jb(),a.Kb(18,"ion-col",6),a.kc(19,"L\xe1mparas conectadas"),a.Jb(),a.Kb(20,"ion-col",6),a.kc(21,"Activo / Apagado"),a.Jb(),a.Jb(),a.Ib(22,"br"),a.jc(23,f,11,10,"ion-row",7),a.Vb(24,"filtroContenedor"),a.Jb(),a.Jb(),a.Jb()),2&e&&(a.xb(23),a.Zb("ngForOf",a.Wb(24,1,o.contenedores,o.textoBuscar)))},directives:[t.s,t.Q,t.O,t.p,t.C,t.D,t.i,t.r,t.G,t.X,t.F,t.o,r.h,t.M,t.V,b.h,t.B,t.P,t.b],pipes:[u],styles:["ion-card[_ngcontent-%COMP%]{border:3px solid #1eb5c6;border-radius:30px}.title1[_ngcontent-%COMP%]{font-size:15px;color:#000}ion-searchbar[_ngcontent-%COMP%]{border-radius:30px;border-collapse:collapse;--icon-color:#1eb5c6;--box-shadow:#e3e3e3 solid}.line[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid #1eb5c6;border-top:2px solid #1eb5c6}"]}),e})();var p=n("iTUp");const C=[{path:"",component:h}];let J=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(o){return new(o||e)},imports:[[b.i.forChild(C),p.a],b.i]}),e})(),K=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(o){return new(o||e)},imports:[[t.R,r.b,i.a,c.a,J,p.a]]}),e})()}}]);